# Markdown Master

Markdown Master 是一个为 Obsidian 设计的插件，提供一键式 Markdown 文件格式化功能，并支持自定义格式化规则。

## 功能

- 一键格式化当前打开的 Markdown 文件
- 提供格式化预览
- 支持撤销上一次的格式化操作
- 批量格式化多个文件
- 可配置的格式化规则
- 格式化历史记录
- 自定义正则表达式规则
- 快捷键支持
- 自动格式化（可选）
- 表格格式化
- 代码块高亮优化
- 图片链接优化
- 文本统计
- 标题编号优化
- 列表缩进调整
- 特殊字符处理
- 规则优先级管理
- 规则启用/禁用管理

## 新的格式化系统

Markdown Master 现在使用了一个新的、更灵活的格式化系统。这个系统基于规则，每个规则都是独立的，可以单独启用或禁用，并且可以调整优先级。

### 规则列表

1. 链接移除
2. 标题转换
3. 粗体移除
4. 引用移除
5. 确保标题后有空格
6. 确保列表项后有空格
7. 移除多余的空行
8. 修复有序列表格式
9. 表格格式化
10. 代码块高亮
11. 图片链接优化
12. 标题编号优化
13. 列表缩进
14. 特殊字符处理
15. 自定义正则表达式规则

## 设置选项

1. **删除特定链接**：删除格式为 [数字] http://... 的链接
2. **转换标题**：将所有二级标题转换为一级标题
3. **删除粗体**：删除所有粗体标记
4. **删除引用**：删除所有数字引用标记
5. **自定义正则表达式规则**：添加自定义正则表达式规则
6. **启用自动格式化**：打开文件时自动格式化
7. **启用表格格式化**：自动对齐表格列
8. **启用代码块高亮**：优化代码块格式
9. **启用图片链接优化**：将 HTTP 图片链接转换为 HTTPS
10. **启用文本统计**：在状态栏显示文本统计信息
11. **优化标题编号**：保留标准的Markdown标题序号，删除额外的数字编号
12. **列表缩进**：设置列表项的缩进空格数
13. **特殊字符处理**：选择如何处理特殊字符（移除、转义或忽略）

## 规则管理

现在您可以通过新的规则管理界面来：

- 启用或禁用特定的格式化规则
- 调整规则的优先级
- 拖放排序规则

## 使用方法

1. 通过命令面板（Ctrl/Cmd + P）使用以下命令：
   - "Markdown Master: 格式化当前Markdown文件"（快捷键：Ctrl/Cmd + Shift + F）
   - "Markdown Master: 撤销上次格式化"（快捷键：Ctrl/Cmd + Shift + Z）
   - "Markdown Master: 批量格式化所有Markdown文件"
   - "Markdown Master: 显示格式化历史记录"
   - "Markdown Master: 显示文本统计"

2. 点击功能区中的铅笔图标来打开格式化选项。

3. 在插件设置中配置格式化规则和添加自定义正则表达式。

4. 使用新的规则管理界面来自定义规则的优先级和启用状态。

## 安装

### 从 Obsidian 社区插件市场安装

1. 打开 Obsidian 设置 > 第三方插件
2. 禁用安全模式
3. 点击浏览社区插件
4. 搜索 "Markdown Master"
5. 点击安装
6. 安装完成后，启用插件

### 从 GitHub 手动安装

1. 下载最新的 release 版本 zip 文件。
2. 解压文件，将文件夹重命名为 `markdown-master`。
3. 将 `markdown-master` 文件夹移动到你的 Obsidian vault 的插件文件夹：`<vault>/.obsidian/plugins/`
4. 重新加载 Obsidian
5. 进入设置 > 第三方插件，启用 "Markdown Master"

## 配置

在 Obsidian 设置中，找到 "Markdown Master" 部分：

1. 启用或禁用特定的格式化规则
2. 添加自定义正则表达式规则（格式：正则表达式|||替换内容）
3. 调整列表缩进和特殊字符处理选项
4. 使用规则管理界面来调整规则优先级和启用状态

## 贡献

欢迎提交 Issues 和 Pull Requests 来帮助改进这个插件。

## 许可证

MIT 许可证